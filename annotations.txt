# Generar documentaciÃ³n de swagger laravel
php artisan l5-swagger:generate

ATL-369-changes-services-vehicles-datatables

"php": "^7.3|^8.0",

# Obtener informaciÃ³n actual del token
$request->user()->currentAccessToken();

# Relations Vehicle

    public function latestState()
    {


        return $this->belongsToMany(
            State::class,
            'vehicles_states',
            'vehicle_id',
            'state_id'
        )
            ->withTimestamps()
            ->orderByPivot('id', 'desc')
            ->orderByPivot('created_at', 'desc')
            ->take(1);

    }


    public function latestStage()
    {
        return $this->belongsToMany(
            Stage::class,
            'vehicles_stages',
            'vehicle_id',
            'stage_id'
        )
        ->withPivot('manual', 'tracking_date')
        ->withTimestamps()
        ->orderByPivot('id', 'desc')
        ->orderByPivot('created_at', 'desc')
        ->take(1);
     }
